(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ffc050e"],{1276:function(e,r,t){"use strict";var a=t("d784"),s=t("44e7"),o=t("825a"),i=t("1d80"),l=t("4840"),n=t("8aa5"),c=t("50c4"),u=t("14c3"),p=t("9263"),f=t("d039"),d=[].push,m=Math.min,g=4294967295,h=!f((function(){return!RegExp(g,"y")}));a("split",2,(function(e,r,t){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var a=String(i(this)),o=void 0===t?g:t>>>0;if(0===o)return[];if(void 0===e)return[a];if(!s(e))return r.call(a,e,o);var l,n,c,u=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,h=new RegExp(e.source,f+"g");while(l=p.call(h,a)){if(n=h.lastIndex,n>m&&(u.push(a.slice(m,l.index)),l.length>1&&l.index<a.length&&d.apply(u,l.slice(1)),c=l[0].length,m=n,u.length>=o))break;h.lastIndex===l.index&&h.lastIndex++}return m===a.length?!c&&h.test("")||u.push(""):u.push(a.slice(m)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function(r,t){var s=i(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,s,t):a.call(String(s),r,t)},function(e,s){var i=t(a,e,this,s,a!==r);if(i.done)return i.value;var p=o(e),f=String(this),d=l(p,RegExp),L=p.unicode,v=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(h?"y":"g"),b=new d(h?p:"^(?:"+p.source+")",v),G=void 0===s?g:s>>>0;if(0===G)return[];if(0===f.length)return null===u(b,f)?[f]:[];var T=0,x=0,y=[];while(x<f.length){b.lastIndex=h?x:0;var k,$=u(b,h?f:f.slice(x));if(null===$||(k=m(c(b.lastIndex+(h?0:x)),f.length))===T)x=n(f,x,L);else{if(y.push(f.slice(T,x)),y.length===G)return y;for(var w=1;w<=$.length-1;w++)if(y.push($[w]),y.length===G)return y;x=T=k}}return y.push(f.slice(T)),y}]}),!h)},"1dde":function(e,r,t){var a=t("d039"),s=t("b622"),o=t("2d00"),i=s("species");e.exports=function(e){return o>=51||!a((function(){var r=[],t=r.constructor={};return t[i]=function(){return{foo:1}},1!==r[e](Boolean).foo}))}},"438b":function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"carGroup"}},[t("el-form",{ref:"dataForm_share",attrs:{rules:e.rules,model:e.carGroupList,"label-position":"top","label-width":"80px"}},[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"預約人員",prop:"reserveName"}},[t("el-input",{attrs:{placeholder:"請輸入預約人員"},model:{value:e.carGroupList.reserveName,callback:function(r){e.$set(e.carGroupList,"reserveName",r)},expression:"carGroupList.reserveName"}})],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"預約人員電話",prop:"contactPhone"}},[t("el-input",{attrs:{placeholder:"請輸入預約人員電話"},model:{value:e.carGroupList.contactPhone,callback:function(r){e.$set(e.carGroupList,"contactPhone",r)},expression:"carGroupList.contactPhone"}})],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"鄉鎮",prop:"town"}},[t("el-select",{attrs:{placeholder:"請選擇鄉鎮"},model:{value:e.carGroupList.town,callback:function(r){e.$set(e.carGroupList,"town",r)},expression:"carGroupList.town"}},[t("el-option",{attrs:{label:"尖石鄉",value:"SSTW"}})],1)],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"村里",prop:"village"}},[t("el-input",{attrs:{placeholder:"請輸入村里"},model:{value:e.carGroupList.village,callback:function(r){e.$set(e.carGroupList,"village",r)},expression:"carGroupList.village"}})],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"身分",prop:"userType"}},[t("el-select",{attrs:{placeholder:"請選擇身分"},model:{value:e.carGroupList.userType,callback:function(r){e.$set(e.carGroupList,"userType",r)},expression:"carGroupList.userType"}},[t("el-option",{attrs:{label:"一般",value:"一般"}}),t("el-option",{attrs:{label:"學生",value:"學生"}}),t("el-option",{attrs:{label:"年長者",value:"年長者"}})],1)],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"乘客姓名",prop:"name"}},[t("el-input",{attrs:{placeholder:"請輸入乘客姓名"},model:{value:e.carGroupList.name,callback:function(r){e.$set(e.carGroupList,"name",r)},expression:"carGroupList.name"}})],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"生日",prop:"birthday"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"請選擇生日","value-format":"yyyy-MM-dd","picker-options":e.disAfterDate},model:{value:e.carGroupList.birthday,callback:function(r){e.$set(e.carGroupList,"birthday",r)},expression:"carGroupList.birthday"}})],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"共乘人數",prop:"carpoolNum"}},[t("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,max:10},model:{value:e.carGroupList.carpoolNum,callback:function(r){e.$set(e.carGroupList,"carpoolNum",r)},expression:"carGroupList.carpoolNum"}})],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"預約日期",prop:"reserveDate"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"請選擇日期","value-format":"yyyy-MM-dd","picker-options":e.disBeforeTime,clearable:!1},model:{value:e.carGroupList.reserveDate,callback:function(r){e.$set(e.carGroupList,"reserveDate",r)},expression:"carGroupList.reserveDate"}})],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"上車時間",prop:"fromTime"}},[t("el-time-select",{attrs:{"picker-options":{start:e.timeStartTime,step:"00:10",end:"20:00"},placeholder:"請選擇時間",clearable:!1,disabled:!e.carGroupList.reserveDate},model:{value:e.carGroupList.fromTime,callback:function(r){e.$set(e.carGroupList,"fromTime",r)},expression:"carGroupList.fromTime"}})],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"上車地點",prop:"fromAddr"}},[t("el-input",{attrs:{placeholder:"請輸入上車地點"},model:{value:e.carGroupList.fromAddr,callback:function(r){e.$set(e.carGroupList,"fromAddr",r)},expression:"carGroupList.fromAddr"}})],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"上車地點經度",prop:"fromLng"}},[t("el-input",{attrs:{placeholder:"請輸入上車地點經度"},model:{value:e.carGroupList.fromLng,callback:function(r){e.$set(e.carGroupList,"fromLng",r)},expression:"carGroupList.fromLng"}})],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"上車地點緯度",prop:"fromLat"}},[t("el-input",{attrs:{placeholder:"請輸入上車地點緯度"},model:{value:e.carGroupList.fromLat,callback:function(r){e.$set(e.carGroupList,"fromLat",r)},expression:"carGroupList.fromLat"}})],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"下車時間",prop:"toTime"}},[t("el-time-select",{attrs:{"picker-options":{start:e.timeStartTime,step:"00:10",end:"20:00"},placeholder:"請選擇時間",clearable:!1,disabled:!e.carGroupList.reserveDate},model:{value:e.carGroupList.toTime,callback:function(r){e.$set(e.carGroupList,"toTime",r)},expression:"carGroupList.toTime"}})],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"下車地點",prop:"toAddr"}},[t("el-input",{attrs:{placeholder:"請輸入下車地點"},model:{value:e.carGroupList.toAddr,callback:function(r){e.$set(e.carGroupList,"toAddr",r)},expression:"carGroupList.toAddr"}})],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"下車地點經度",prop:"toLng"}},[t("el-input",{attrs:{placeholder:"請輸入下車地點經度"},model:{value:e.carGroupList.toLng,callback:function(r){e.$set(e.carGroupList,"toLng",r)},expression:"carGroupList.toLng"}})],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"下車地點緯度",prop:"toLat"}},[t("el-input",{attrs:{placeholder:"請輸入下車地點緯度"},model:{value:e.carGroupList.toLat,callback:function(r){e.$set(e.carGroupList,"toLat",r)},expression:"carGroupList.toLat"}})],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"是否轉乘",prop:"hasTransfer"}},[t("el-select",{attrs:{placeholder:"請選擇是否轉乘"},model:{value:e.carGroupList.hasTransfer,callback:function(r){e.$set(e.carGroupList,"hasTransfer",r)},expression:"carGroupList.hasTransfer"}},[t("el-option",{attrs:{label:"是",value:"是"}}),t("el-option",{attrs:{label:"否",value:"否"}})],1)],1)],1),"是"==e.carGroupList.hasTransfer?t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"轉乘運具1",prop:"transferTraffic"}},[t("el-select",{attrs:{placeholder:"請選擇轉乘運具"},model:{value:e.carGroupList.transferTraffic,callback:function(r){e.$set(e.carGroupList,"transferTraffic",r)},expression:"carGroupList.transferTraffic"}},[t("el-option",{attrs:{label:"幸福巴士",value:"幸福巴士"}}),t("el-option",{attrs:{label:"噗噗共乘",value:"噗噗共乘"}})],1)],1)],1):e._e(),"是"==e.carGroupList.hasTransfer?t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"轉乘業者1",prop:"transferOperator",rules:"幸福巴士"==e.carGroupList.transferTraffic?e.rules.transferOperator:[{required:!1}]}},[t("el-select",{attrs:{placeholder:"請選擇轉乘業者"},model:{value:e.carGroupList.transferOperator,callback:function(r){e.$set(e.carGroupList,"transferOperator",r)},expression:"carGroupList.transferOperator"}},[t("el-option",{attrs:{label:"尖石鄉DRTS",value:"尖石鄉DRTS"}}),t("el-option",{attrs:{label:"尖石鄉基本民行",value:"尖石鄉基本民行"}})],1)],1)],1):e._e(),"是"==e.carGroupList.hasTransfer?t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"轉乘運具2"}},[t("el-select",{attrs:{placeholder:"請選擇轉乘運具"},model:{value:e.carGroupList.transferTraffic2,callback:function(r){e.$set(e.carGroupList,"transferTraffic2",r)},expression:"carGroupList.transferTraffic2"}},[t("el-option",{attrs:{label:"幸福巴士",value:"幸福巴士"}}),t("el-option",{attrs:{label:"噗噗共乘",value:"噗噗共乘"}})],1)],1)],1):e._e(),"是"==e.carGroupList.hasTransfer?t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"轉乘業者2",prop:"transferOperator2",rules:e.carGroupList.transferTraffic2?e.rules.transferOperator2:[{required:!1}]}},[t("el-select",{attrs:{placeholder:"請選擇轉乘業者"},model:{value:e.carGroupList.transferOperator2,callback:function(r){e.$set(e.carGroupList,"transferOperator2",r)},expression:"carGroupList.transferOperator2"}},[t("el-option",{attrs:{label:"尖石鄉DRTS",value:"尖石鄉DRTS"}}),t("el-option",{attrs:{label:"尖石鄉基本民行",value:"尖石鄉基本民行"}})],1)],1)],1):e._e(),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{size:"medium",label:"轉乘目的",prop:"transferPurpose"}},[t("el-select",{attrs:{placeholder:"請選擇轉乘目的"},model:{value:e.carGroupList.transferPurpose,callback:function(r){e.$set(e.carGroupList,"transferPurpose",r)},expression:"carGroupList.transferPurpose"}},[t("el-option",{attrs:{label:"就醫",value:"就醫"}}),t("el-option",{attrs:{label:"就學",value:"就學"}}),t("el-option",{attrs:{label:"就養",value:"就養"}}),t("el-option",{attrs:{label:"日常",value:"日常"}})],1)],1)],1)],1),t("div",{staticClass:"w-100 mb-30 d-flex align-items-center justify-content-center"},[t("el-button",{staticClass:"order_btn",on:{click:e.reservation}},[e._v("預約")])],1)],1)},s=[],o=(t("99af"),t("ac1f"),t("1276"),t("d282")),i=t("c1df"),l=t.n(i),n={data:function(){return{carGroupList:{orderStatus:"",reserveName:"",town:"SSTW",village:"",userType:"",name:window.localStorage.getItem("userName"),reserveDate:"",fromTime:"",fromAddr:"",fromLng:"",fromLat:"",toTime:"",toAddr:"",toLng:"",toLat:"",hasTransfer:"",transferTraffic:"",transferOperator:"",transferTraffic2:"",transferOperator2:"",transferTraffic3:"",transferOperator3:"",transferPurpose:"",stationLineId:"",stationType:"共享車隊",contactPhone:"",carpoolNum:0,birthday:""},rules:{reserveName:[{required:!0,message:"請輸入預約人員",tigger:"blur"}],contactPhone:[{required:!0,message:"請輸入預約人員電話",tigger:"blur"}],town:[{required:!0,message:"請選擇鄉鎮",tigger:"change"}],village:[{required:!0,message:"請輸入村里",tigger:"blur"}],userType:[{required:!0,message:"請輸入身分",tigger:"blur"}],name:[{required:!0,message:"請輸入乘客姓名",tigger:"change"}],birthday:[{required:!0,message:"請選擇生日",tigger:"change"}],carpoolNum:[{required:!0,message:"請選擇共乘人數"}],reserveDate:[{required:!0,message:"請選擇預約日期",tigger:"change"}],fromTime:[{required:!0,message:"請選擇上車時間",tigger:"change"}],fromAddr:[{required:!0,message:"請輸入上車地點",tigger:"change"}],fromLng:[{required:!0,message:"請輸入上車地點經度"}],fromLat:[{required:!0,message:"請輸入上車地點緯度"}],toTime:[{required:!0,message:"請選擇下車時間",tigger:"change"}],toAddr:[{required:!0,message:"請輸入下車地點",tigger:"blur"}],toLng:[{required:!0,message:"請輸入下車地點經度"}],toLat:[{required:!0,message:"請輸入下車地點緯度"}],hasTransfer:[{required:!0,message:"請選擇是否轉乘",tigger:"change"}],transferTraffic:[{required:!0,message:"請選擇轉乘運具1",tigger:"change"}],transferOperator:[{required:!0,message:"請選擇轉乘業者1",tigger:"change"}],transferTraffic2:[{required:!0,message:"請選擇轉乘運具2",tigger:"change"}],transferOperator2:[{required:!0,message:"請選擇轉乘業者2",tigger:"change"}],transferPurpose:[{required:!0,message:"請選擇轉乘目的",tigger:"change"}]},disBeforeTime:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},disAfterDate:{disabledDate:function(e){return e.getTime()>Date.now()}}}},computed:{timeStartTime:function(){var e;if(this.carGroupList.reserveDate!==l()(new Date).format("YYYY-MM-DD"))e="06:00";else{var r=l()().format("HH"),t=10*(Math.floor(l()().format("hh:mm").split(":")[1]/10)+1);60==t&&(t="00",r++),e="".concat(r,":").concat(t)}return e},checkTransfer:function(){var e=this;return function(){return"是"!==e.carGroupList.hasTransfer}}},methods:{getHasTransfer:function(e){"是"==e?(this.carGroupList.transferTraffic="臺鐵",this.carGroupList.transferOperator="尖石鄉DRTS",this.carGroupList.transferPurpose="就醫"):(this.carGroupList.transferTraffic="",this.carGroupList.transferOperator="",this.carGroupList.transferPurpose="")},getFromGeo:function(e){var r=this;this.$store.dispatch("loadingHandler",!0),o["a"].GetGeo({_addr:e}).then((function(e){r.carGroupList.fromLng=e.data.result.lon,r.carGroupList.fromLat=e.data.result.lat,r.$store.dispatch("loadingHandler",!1)})).catch((function(e){r.$store.dispatch("loadingHandler",!1)}))},getToGeo:function(e){var r=this;this.$store.dispatch("loadingHandler",!0),o["a"].GetGeo({_addr:e}).then((function(e){r.carGroupList.toLng=e.data.result.lon,r.carGroupList.toLat=e.data.result.lat,r.$store.dispatch("loadingHandler",!1)})).catch((function(e){r.$store.dispatch("loadingHandler",!1)}))},reservation:function(){var e=this;this.$refs["dataForm_share"].validate((function(r){r&&(e.$store.dispatch("loadingHandler",!0),o["a"].Orders(e.carGroupList).then((function(r){200==r.data.code?(e.$message({type:"success",message:"預約成功!"}),e.$router.push({name:"orderInfo"})):e.$message({type:"warning",message:r.data.message}),e.$store.dispatch("loadingHandler",!1)})))}))}}},c=n,u=(t("b390"),t("2877")),p=Object(u["a"])(c,a,s,!1,null,null,null);r["default"]=p.exports},"44e7":function(e,r,t){var a=t("861d"),s=t("c6b6"),o=t("b622"),i=o("match");e.exports=function(e){var r;return a(e)&&(void 0!==(r=e[i])?!!r:"RegExp"==s(e))}},"65f0":function(e,r,t){var a=t("861d"),s=t("e8b5"),o=t("b622"),i=o("species");e.exports=function(e,r){var t;return s(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!s(t.prototype)?a(t)&&(t=t[i],null===t&&(t=void 0)):t=void 0),new(void 0===t?Array:t)(0===r?0:r)}},8418:function(e,r,t){"use strict";var a=t("c04e"),s=t("9bf2"),o=t("5c6c");e.exports=function(e,r,t){var i=a(r);i in e?s.f(e,i,o(0,t)):e[i]=t}},"99af":function(e,r,t){"use strict";var a=t("23e7"),s=t("d039"),o=t("e8b5"),i=t("861d"),l=t("7b0b"),n=t("50c4"),c=t("8418"),u=t("65f0"),p=t("1dde"),f=t("b622"),d=t("2d00"),m=f("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",L=d>=51||!s((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),v=p("concat"),b=function(e){if(!i(e))return!1;var r=e[m];return void 0!==r?!!r:o(e)},G=!L||!v;a({target:"Array",proto:!0,forced:G},{concat:function(e){var r,t,a,s,o,i=l(this),p=u(i,0),f=0;for(r=-1,a=arguments.length;r<a;r++)if(o=-1===r?i:arguments[r],b(o)){if(s=n(o.length),f+s>g)throw TypeError(h);for(t=0;t<s;t++,f++)t in o&&c(p,f,o[t])}else{if(f>=g)throw TypeError(h);c(p,f++,o)}return p.length=f,p}})},b390:function(e,r,t){"use strict";var a=t("f277"),s=t.n(a);s.a},e8b5:function(e,r,t){var a=t("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}},f277:function(e,r,t){}}]);
//# sourceMappingURL=chunk-5ffc050e.20602739.js.map