(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75262422"],{"0834":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"memberInfo"}},[a("div",{staticClass:"d-none d-mb-block el-main"},[a("div",{staticClass:"w-100"},[a("div",{staticClass:"topCard"},[a("div",{staticClass:"topCard_title w-100 d-flex align-items-center justify-content-between"},[a("b",[e._v("會員基本資料")]),e.editMemberInfo?a("div",{staticClass:"d-flex align-items-center topCard_title-btn"},[a("div",{staticClass:"d-flex align-items-center justify-content-center mr-10",on:{click:function(t){e.editMemberInfo=!1}}},[a("i",{staticClass:"el-icon-close text-mainColor"}),a("p",{staticClass:"m-0"},[e._v("取消修改")])]),a("div",{staticClass:"d-flex align-items-center justify-content-center",on:{click:function(t){e.doubleCheck=!0}}},[a("img",{attrs:{src:s("c64f"),alt:""}}),a("p",{staticClass:"m-0"},[e._v("儲存")])])]):a("div",{staticClass:"d-flex align-items-center topCard_title-btn",on:{click:function(t){e.editMemberInfo=!0}}},[a("img",{attrs:{src:s("b0e3"),alt:""}}),a("p",{staticClass:"m-0"},[e._v("修改")])])]),a("div",{staticClass:"w-100 py-10"},[a("el-row",{staticClass:"w-100 d-flex align-items-center flex-wrap"},[a("el-col",{staticClass:"p-10",attrs:{span:6}},[a("div",{staticClass:"w-100 d-flex align-items-center justify-content-start flex-column mr-24"},[a("p",{staticClass:"w-100 m-0"},[e._v("姓名")]),e.editMemberInfo?a("el-input",{attrs:{type:"text"},model:{value:e.userProfile.name,callback:function(t){e.$set(e.userProfile,"name",t)},expression:"userProfile.name"}}):a("p",{staticClass:"topCard_textborder w-100 m-0 pt-5"},[e._v(" "+e._s(e.userProfile.name)+" ")])],1)]),a("el-col",{staticClass:"p-10",attrs:{span:6}},[a("div",{staticClass:"w-100 d-flex align-items-center justify-content-start flex-column mr-24"},[a("p",{staticClass:"w-100 m-0"},[e._v("性別")]),e.editMemberInfo?a("el-select",{staticClass:"w-100",model:{value:e.userProfile.sex,callback:function(t){e.$set(e.userProfile,"sex",t)},expression:"userProfile.sex"}},[a("el-option",{attrs:{label:"男",value:"男"}}),a("el-option",{attrs:{label:"女",value:"女"}})],1):a("p",{staticClass:"topCard_textborder w-100 m-0 pt-5"},[e._v(" "+e._s(e.userProfile.sex)+" ")])],1)]),a("el-col",{staticClass:"p-10",attrs:{span:6}},[a("div",{staticClass:"w-100 d-flex align-items-center justify-content-start flex-column mr-24"},[a("p",{staticClass:"w-100 m-0"},[e._v("是否為低收入戶")]),e.editMemberInfo?a("el-select",{staticClass:"w-100",attrs:{placeholder:"請選擇是否為低收入戶"},model:{value:e.userProfile.isLowIncome,callback:function(t){e.$set(e.userProfile,"isLowIncome",t)},expression:"userProfile.isLowIncome"}},[a("el-option",{attrs:{label:"是",value:"是"}}),a("el-option",{attrs:{label:"否",value:"否"}})],1):a("p",{staticClass:"topCard_textborder w-100 m-0 pt-5"},[e._v(" "+e._s(e.userProfile.isLowIncome)+" ")])],1)]),a("el-col",{staticClass:"p-10",attrs:{span:6}},[a("div",{staticClass:"w-100 d-flex align-items-center justify-content-start flex-column mr-24"},[a("p",{staticClass:"w-100 m-0"},[e._v("出生年月日")]),e.editMemberInfo?a("el-date-picker",{attrs:{type:"date",placeholder:"請選擇日期","value-format":"yyyy-MM-dd",clearable:!1},model:{value:e.userProfile.birthday,callback:function(t){e.$set(e.userProfile,"birthday",t)},expression:"userProfile.birthday"}}):a("p",{staticClass:"topCard_textborder w-100 m-0 pt-5"},[e._v(" "+e._s(e._f("moment")(e.userProfile.birthday,"YYYY-MM-DD"))+" ")])],1)]),a("el-col",{staticClass:"p-10",attrs:{span:6}},[a("div",{staticClass:"w-100 d-flex align-items-center justify-content-start flex-column mr-24"},[a("p",{staticClass:"w-100 m-0"},[e._v("手機號碼")]),e.editMemberInfo?a("el-input",{attrs:{type:"text"},model:{value:e.userProfile.phone,callback:function(t){e.$set(e.userProfile,"phone",t)},expression:"userProfile.phone"}}):a("p",{staticClass:"topCard_textborder w-100 m-0 pt-5"},[e._v(" "+e._s(e.userProfile.phone)+" ")])],1)]),a("el-col",{staticClass:"p-10",attrs:{span:6}},[a("div",{staticClass:"w-100 d-flex align-items-center justify-content-start flex-column mr-24"},[a("p",{staticClass:"w-100 m-0"},[e._v("身分")]),e.editMemberInfo?a("el-select",{staticClass:"w-100",attrs:{placeholder:"請選擇身分"},model:{value:e.userProfile.userType,callback:function(t){e.$set(e.userProfile,"userType",t)},expression:"userProfile.userType"}},[a("el-option",{attrs:{label:"一般",value:"一般"}}),a("el-option",{attrs:{label:"學生",value:"學生"}}),a("el-option",{attrs:{label:"年長者",value:"年長者"}})],1):a("p",{staticClass:"topCard_textborder w-100 m-0 pt-5"},[e._v(" "+e._s(e.userProfile.userType)+" ")])],1)]),a("el-col",{staticClass:"p-10",attrs:{span:6}},[a("div",{staticClass:"w-100 d-flex align-items-center justify-content-start flex-column mr-24"},[a("p",{staticClass:"w-100 m-0"},[e._v("村里")]),e.editMemberInfo?a("el-input",{attrs:{type:"text"},model:{value:e.userProfile.village,callback:function(t){e.$set(e.userProfile,"village",t)},expression:"userProfile.village"}}):a("p",{staticClass:"topCard_textborder w-100 m-0 pt-5"},[e._v(" "+e._s(e.userProfile.village)+" ")])],1)])],1)],1)]),a("div",{staticClass:"bottomCard"},[e._m(0),a("div",{staticClass:"w-100 pos-relative"},[a("div",{staticClass:"tab-group mt-30"},[a("div",{staticClass:"tablink w-100 d-flex align-items-center flex-row"},[a("div",{staticClass:"d-flex align-items-center"},e._l(e.tabTitle,(function(t,s){return a("div",{key:"TT__"+s,staticClass:"tabs d-flex align-items-center justify-content-center cur-pointer py-8 px-16",class:{tabs_active:t.value===e.nowChoose},on:{click:function(s){return e.changeTab(t)}}},[a("p",{staticClass:"m-0"},[e._v(e._s(t.name))])])})),0)])])]),"whiteCar"===e.nowChoose?a("div",{staticClass:"w-100 my-20"},[e.whiteCarData.length>0?a("div",{staticClass:"w-100"},[a("div",{staticClass:"bottomCard_orderInfo"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.whiteCarData,"default-sort":{prop:"reserveDate",order:"descending"},"empty-text":"查無資料"}},[a("el-table-column",{attrs:{label:"乘客姓名",prop:"name",width:"100px"}}),a("el-table-column",{attrs:{label:"預約時間",prop:"reserveDate",width:"100",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticClass:"m-0"},[e._v(e._s(e._f("moment")(t.row.reserveDate,"YYYY-MM-DD")))]),a("p",{staticClass:"m-0"},[e._v(e._s(e._f("moment")(t.row.reserveDate,"HH:mm")))])]}}],null,!1,2740131854)}),a("el-table-column",{attrs:{label:"鄉鎮村里",prop:"village"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticClass:"m-0"},[e._v("尖石鄉"+e._s(t.row.village))])]}}],null,!1,2280400631)}),a("el-table-column",{attrs:{label:"身分",prop:"userType",width:"80",sortable:""}}),a("el-table-column",{attrs:{label:"轉乘原因",prop:"transferPurpose",width:"100",sortable:""}}),a("el-table-column",{attrs:{label:"轉乘運具",prop:"transferTraffic",width:"100",sortable:""}}),a("el-table-column",{attrs:{label:"轉乘業者",prop:"transferOperator",width:"120",sortable:""}}),a("el-table-column",{attrs:{label:"起點",prop:"fromAddr"}}),a("el-table-column",{attrs:{label:"迄點",prop:"toAddr"}})],1)],1)]):a("div",{staticClass:"w-100 mt-20"},[e._m(1)])]):e._e()])])]),a("div",{staticClass:"d-block d-mb-none"},[a("div",{staticClass:"px-16 pt-16 pb-100"},[a("div",{staticClass:"infoList w-100 d-flex flex-column mb-30"},[e._m(2),a("div",{staticClass:"infoList__context w-100 text-left"},[e.editMemberInfo?a("el-input",{attrs:{type:"text"},model:{value:e.userProfile.name,callback:function(t){e.$set(e.userProfile,"name",t)},expression:"userProfile.name"}}):a("p",{staticClass:"m-0 pt-5"},[e._v(" "+e._s(e.userProfile.name)+" ")])],1)]),a("div",{staticClass:"infoList w-100 d-flex flex-column mb-30"},[e._m(3),a("div",{staticClass:"infoList__context w-100 text-left"},[e.editMemberInfo?a("el-select",{staticClass:"w-100",model:{value:e.userProfile.sex,callback:function(t){e.$set(e.userProfile,"sex",t)},expression:"userProfile.sex"}},[a("el-option",{attrs:{label:"男",value:"男"}}),a("el-option",{attrs:{label:"女",value:"女"}})],1):a("p",{staticClass:"m-0 pt-5"},[e._v(" "+e._s(e.userProfile.sex)+" ")])],1)]),a("div",{staticClass:"infoList w-100 d-flex flex-column mb-30"},[e._m(4),a("div",{staticClass:"infoList__context w-100 text-left"},[e.editMemberInfo?a("div",{staticClass:"w-100"},[a("el-radio",{attrs:{label:"0"},model:{value:e.userProfile.isLowIncome,callback:function(t){e.$set(e.userProfile,"isLowIncome",t)},expression:"userProfile.isLowIncome"}},[e._v("否")]),a("el-radio",{attrs:{label:"1"},model:{value:e.userProfile.isLowIncome,callback:function(t){e.$set(e.userProfile,"isLowIncome",t)},expression:"userProfile.isLowIncome"}},[e._v("是")])],1):a("p",{staticClass:"m-0 pt-5"},[e._v(" "+e._s("0"==e.userProfile.isLowIncome?"否":"是")+" ")])])]),a("div",{staticClass:"infoList w-100 d-flex flex-column mb-30"},[e._m(5),a("div",{staticClass:"infoList__context w-100 text-left"},[e.editMemberInfo?a("el-date-picker",{attrs:{type:"date",placeholder:"請選擇日期","value-format":"yyyy-MM-dd",clearable:!1},model:{value:e.userProfile.birthday,callback:function(t){e.$set(e.userProfile,"birthday",t)},expression:"userProfile.birthday"}}):a("p",{staticClass:"m-0 pt-5"},[e._v(" "+e._s(e._f("moment")(e.userProfile.birthday,"YYYY-MM-DD"))+" ")])],1)]),a("div",{staticClass:"infoList w-100 d-flex flex-column mb-30"},[e._m(6),a("div",{staticClass:"infoList__context w-100 text-left"},[e.editMemberInfo?a("el-input",{attrs:{type:"text"},model:{value:e.userProfile.phone,callback:function(t){e.$set(e.userProfile,"phone",t)},expression:"userProfile.phone"}}):a("p",{staticClass:"m-0 pt-5"},[e._v(" "+e._s(e.userProfile.phone)+" ")])],1)]),a("div",{staticClass:"infoList w-100 d-flex flex-column mb-30"},[e._m(7),a("div",{staticClass:"infoList__context w-100 text-left"},[e.editMemberInfo?a("el-select",{staticClass:"w-100",attrs:{placeholder:"請選擇身分"},model:{value:e.userProfile.userType,callback:function(t){e.$set(e.userProfile,"userType",t)},expression:"userProfile.userType"}},[a("el-option",{attrs:{label:"一般",value:"一般"}}),a("el-option",{attrs:{label:"學生",value:"學生"}}),a("el-option",{attrs:{label:"年長者",value:"年長者"}})],1):a("p",{staticClass:"m-0 pt-5"},[e._v(" "+e._s(e.userProfile.userType)+" ")])],1)]),a("div",{staticClass:"infoList w-100 d-flex flex-column mb-30"},[e._m(8),a("div",{staticClass:"infoList__context w-100 text-left"},[e.editMemberInfo?a("el-input",{attrs:{type:"text"},model:{value:e.userProfile.village,callback:function(t){e.$set(e.userProfile,"village",t)},expression:"userProfile.village"}}):a("p",{staticClass:"m-0 pt-5"},[e._v(" "+e._s(e.userProfile.village)+" ")])],1)]),a("div",{staticClass:"w-100 mt-10 text-center btnColor"},[e.editMemberInfo?a("div",{staticClass:"w-100 d-flex align-items-center justify-content-center topCard_title-btn"},[a("div",{staticClass:"d-flex align-items-center justify-content-center mr-30",on:{click:function(t){e.editMemberInfo=!1}}},[a("i",{staticClass:"el-icon-close text-mainColor"}),a("p",{staticClass:"m-0"},[e._v("取消修改")])]),a("div",{staticClass:"d-flex align-items-center justify-content-center",on:{click:function(t){e.doubleCheck=!0}}},[a("img",{attrs:{src:s("c64f"),alt:""}}),a("p",{staticClass:"m-0"},[e._v("儲存")])])]):a("div",{staticClass:"d-flex align-items-center justify-content-center",on:{click:function(t){e.editMemberInfo=!0}}},[a("img",{attrs:{src:s("b0e3"),alt:""}}),a("p",{staticClass:"m-0"},[e._v("修改")])])])])]),a("el-dialog",{attrs:{title:"提示",visible:e.doubleCheck,width:"300px"},on:{"update:visible":function(t){e.doubleCheck=t}}},[a("span",[e._v("確定要修改您的基本資料嗎？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.doubleCheck=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveUserInfo}},[e._v("確 定")])],1)]),a("el-dialog",{attrs:{title:"訂單QRCODE",visible:e.showQrcode,width:"30%",center:""},on:{"update:visible":function(t){e.showQrcode=t}}},[a("div",{directives:[{name:"qr",rawName:"v-qr",value:e.qrValue,expression:"qrValue"}],staticClass:"text-center"}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showQrcode=!1}}},[e._v("關 閉")])],1)])],1)},l=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bottomCard_title w-100 d-flex align-items-center justify-content-start"},[s("b",[e._v("訂單資訊")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w-100 d-flex align-items-center justify-content-center flex-column"},[a("img",{attrs:{src:s("f4f0"),alt:"查無資料"}}),a("p",{staticClass:"m-0"},[e._v("查無資料")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"infoList__title w-100 text-left"},[s("strong",[e._v("姓名")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"infoList__title w-100 text-left"},[s("strong",[e._v("性別")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"infoList__title w-100 text-left"},[s("strong",[e._v("是否為低收入戶")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"infoList__title w-100 text-left"},[s("strong",[e._v("出生年月日")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"infoList__title w-100 text-left"},[s("strong",[e._v("手機號碼")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"infoList__title w-100 text-left"},[s("strong",[e._v("身分")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"infoList__title w-100 text-left"},[s("strong",[e._v("村里")])])}],i=(s("4de4"),s("b0c0"),s("96cf"),s("1da1")),r=s("1799"),o=(s("c1df"),s("d282")),n={components:{Pagination:r["a"]},data:function(){return{editMemberInfo:!1,doubleCheck:!1,getDateRange:"",userProfile:[],whiteCarData:[],busData:[],nowChoose:"whiteCar",tabTitle:[{value:"whiteCar",name:"共享車隊"}],chooseStatus:"all",statusList:[{value:"all",text:"全部狀態"},{value:1,text:"新訂單"},{value:2,text:"已排班"},{value:3,text:"已抵達"},{value:4,text:"客上"},{value:5,text:"已完成"},{value:9,text:"已取消"}],sexData:[{value:1,label:"男"},{value:2,label:"女"}],showQrcode:!1,qrValue:""}},methods:{reloadUserData:function(){var e=this,t={page:1,limit:999};o["a"].GetUserInfo(t).then((function(t){e.userProfile=t.data.data.filter((function(e){return e.id===window.localStorage.getItem("userID")}))[0]}))},reloadOrder:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s={Name:window.localStorage.getItem("userName"),page:1,limit:1e3},t.next=3,o["a"].LoadOrder(s).then((function(t){e.whiteCarData=t.data.data,e.$store.dispatch("loadingHandler",!1)}));case 3:case"end":return t.stop()}}),t)})))()},saveUserInfo:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.dispatch("loadingHandler",!0),e.doubleCheck=!1,t.next=4,o["a"].UpdateUserInfo(e.userProfile).then((function(t){200===t.data.code&&(e.$message({type:"success",message:"修改成功!"}),e.$store.dispatch("getNewUserName",e.userProfile.name),e.$store.dispatch("loadingHandler",!1))}));case 4:e.editMemberInfo=!1;case 5:case"end":return t.stop()}}),t)})))()},produceQRcode:function(e){this.showQrcode=!0,this.qrValue="http://thi.1966.org.tw/api/Orders/Get?id="+e},changeTab:function(e){this.nowChoose=e.value,this.chooseStatus="all"},chooseDateRange:function(){this.reloadOrder()}},mounted:function(){this.$store.dispatch("loadingHandler",!0),this.reloadUserData(),this.reloadOrder()}},c=n,f=(s("5a9d"),s("2877")),u=Object(f["a"])(c,a,l,!1,null,null,null);t["default"]=u.exports},"1dde":function(e,t,s){var a=s("d039"),l=s("b622"),i=s("2d00"),r=l("species");e.exports=function(e){return i>=51||!a((function(){var t=[],s=t.constructor={};return s[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},4777:function(e,t,s){},"4de4":function(e,t,s){"use strict";var a=s("23e7"),l=s("b727").filter,i=s("1dde"),r=s("ae40"),o=i("filter"),n=r("filter");a({target:"Array",proto:!0,forced:!o||!n},{filter:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}})},"5a9d":function(e,t,s){"use strict";var a=s("4777"),l=s.n(a);l.a},"65f0":function(e,t,s){var a=s("861d"),l=s("e8b5"),i=s("b622"),r=i("species");e.exports=function(e,t){var s;return l(e)&&(s=e.constructor,"function"!=typeof s||s!==Array&&!l(s.prototype)?a(s)&&(s=s[r],null===s&&(s=void 0)):s=void 0),new(void 0===s?Array:s)(0===t?0:t)}},ae40:function(e,t,s){var a=s("83ab"),l=s("d039"),i=s("5135"),r=Object.defineProperty,o={},n=function(e){throw e};e.exports=function(e,t){if(i(o,e))return o[e];t||(t={});var s=[][e],c=!!i(t,"ACCESSORS")&&t.ACCESSORS,f=i(t,0)?t[0]:n,u=i(t,1)?t[1]:void 0;return o[e]=!!s&&!l((function(){if(c&&!a)return!0;var e={length:-1};c?r(e,1,{enumerable:!0,get:n}):e[1]=1,s.call(e,f,u)}))}},b0e3:function(e,t,s){e.exports=s.p+"img/edit.46f266e8.svg"},b727:function(e,t,s){var a=s("0366"),l=s("44ad"),i=s("7b0b"),r=s("50c4"),o=s("65f0"),n=[].push,c=function(e){var t=1==e,s=2==e,c=3==e,f=4==e,u=6==e,d=5==e||u;return function(m,p,v,b){for(var C,_,x=i(m),w=l(x),h=a(p,v,3),g=r(w.length),y=0,P=b||o,k=t?P(m,g):s?P(m,0):void 0;g>y;y++)if((d||y in w)&&(C=w[y],_=h(C,y,x),e))if(t)k[y]=_;else if(_)switch(e){case 3:return!0;case 5:return C;case 6:return y;case 2:n.call(k,C)}else if(f)return!1;return u?-1:c||f?f:k}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c64f:function(e,t,s){e.exports=s.p+"img/save.9d370e7f.svg"},e8b5:function(e,t,s){var a=s("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}}}]);
//# sourceMappingURL=chunk-75262422.549d1f5b.js.map